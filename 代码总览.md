## Dashboardâ€‘backend ä»£ç æ€»è§ˆï¼ˆé€æ–‡ä»¶ï¼‰

> å…ˆæ”¾å…¨é‡æ–‡ä»¶æ¡†æ¶ä¸å…³é”®å®ç°ï¼Œåç»­ä½ å¯æŒ‡å‡ºæƒ³æ·±å…¥çš„æ–‡ä»¶ï¼Œæˆ‘å†é€è¡Œè§£é‡Š / é‡æ„ã€‚

---

### 1. server.js

```js
// Express + WebSocket å…¥å£ï¼ˆè¯¦è§ controllers ä¸ routes éƒ¨åˆ†ï¼‰
```

### 2. controllers/apikey.controller.js

```js
// ç”Ÿæˆ / æŸ¥è¯¢ APIâ€‘Key ï¼ˆåŸºäº uuid & mongooseï¼‰
```

### 3. controllers/config.controller.js

```js
// è¯»å– / æ›´æ–° layout + èšåˆæŸ¥è¯¢ï¼ˆå« WS æ¨é€ï¼‰
```

### 4. controllers/dashboard.controller.js

```js
// å¤šä»ªè¡¨ç›˜ CRUD
```

### 5. routes/

```js
// apikey.routes.js  â†’ /api/apikey
// config.routes.js  â†’ /api/config (+ /agg)
// dashboard.routes.js â†’ /api/dashboard/â€¦
```

### 6. middlewares/auth.js

```js
// ç»Ÿä¸€ APIâ€‘Key é‰´æƒä¸­é—´ä»¶
```

### 7. services/wsHub.js

```js
// WebSocket Hub & broadcast å·¥å…·
```

### 8. models/

```js
// ApiKey.js, Config.js â€“ Mongoose Schema
```

### 9. utils/logger.js

```js
// ç®€æ˜“ loggerï¼ˆconsole å°è£…ï¼Œå¯æ›¿æ¢ pinoï¼‰
```

### 10. éƒ¨ç½²ç›¸å…³

```sh
pm2.config.js      # PM2 ç”Ÿäº§å¯åŠ¨
Dockerfile         # Node18 + pm2-runtime
docker-compose.yml # mongo + backend
install.sh         # æœ¬åœ°ä¸€é”®å¯åŠ¨è„šæœ¬
```

---

ğŸ‘‡ è¯·@æˆ‘æŒ‡å‡ºæƒ³å…ˆçœ‹çš„æ–‡ä»¶ï¼Œæˆ–æå‡ºä¼˜åŒ–ç‚¹ï¼Œæˆ‘å†å±•å¼€æºç å¹¶é€è¡Œè®²è§£ã€‚
